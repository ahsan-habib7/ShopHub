<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dynamic E-Commerce Store</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
    }
    
    * {
      font-family: 'Outfit', -apple-system, BlinkMacSystemFont, sans-serif;
    }
    
    .glass-header {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    }
    
    .filter-btn {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .filter-btn:hover {
      transform: translateY(-2px);
    }
    
    .filter-btn.active {
      transform: scale(0.95);
    }
    
    .product-card {
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }
    
    .product-card:hover {
      transform: translateY(-8px);
    }
    
    .product-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(180deg, transparent 0%, rgba(0,0,0,0.02) 100%);
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .product-card:hover::before {
      opacity: 1;
    }
    
    .offer-badge {
      animation: pulse-glow 2s ease-in-out infinite;
    }
    
    @keyframes pulse-glow {
      0%, 100% {
        box-shadow: 0 0 20px rgba(239, 68, 68, 0.3);
      }
      50% {
        box-shadow: 0 0 30px rgba(239, 68, 68, 0.5);
      }
    }
    
    .cart-badge {
      animation: cart-bounce 0.5s ease;
    }
    
    @keyframes cart-bounce {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    
    .float-animation {
      animation: float 3s ease-in-out infinite;
    }
    
    @keyframes bounce-gentle {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-5px); }
    }
    
    .badge-bounce {
      animation: bounce-gentle 2s ease-in-out infinite;
    }
    
    .mobile-menu {
      transform: translateX(100%);
      transition: transform 0.3s ease-in-out;
    }
    
    .mobile-menu.active {
      transform: translateX(0);
    }
    
    .hero-gradient {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
      position: relative;
      overflow: hidden;
    }
    
    .hero-gradient::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 200%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
      animation: shimmer 3s infinite;
    }
    
    @keyframes shimmer {
      0% { transform: translateX(0); }
      100% { transform: translateX(100%); }
    }
    
    .carousel-container {
      position: relative;
      overflow: hidden;
    }
    
    .carousel-track {
      display: flex;
      transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      gap: 1.5rem;
    }
    
    .carousel-item {
      flex: 0 0 calc(50% - 0.75rem);
      scroll-snap-align: start;
    }
    
    .stats-card {
      background: white;
      border-radius: 24px;
      padding: 2rem;
      text-align: center;
      transition: all 0.3s ease;
      border: 2px solid transparent;
    }
    
    .stats-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 32px rgba(102, 126, 234, 0.2);
      border-color: rgba(102, 126, 234, 0.3);
    }
    
    .checkout-step {
      padding: 1.5rem;
      border-radius: 16px;
      background: white;
      margin-bottom: 1.5rem;
    }
    
    .payment-option {
      border: 2px solid #e5e7eb;
      border-radius: 16px;
      padding: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .payment-option:hover {
      border-color: #667eea;
      background: #f8f9ff;
    }
    
    .payment-option.selected {
      border-color: #667eea;
      background: linear-gradient(135deg, #f8f9ff 0%, #e8eaff 100%);
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full m-0 p-0">
  <div id="app" class="w-full h-full overflow-auto" style="background: linear-gradient(to bottom, #f8f9ff 0%, #ffffff 100%);"><!-- Glass Header -->
   <header class="glass-header fixed top-0 left-0 right-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <div class="flex justify-between items-center h-16 sm:h-20"><!-- Logo -->
      <div class="flex items-center space-x-3">
       <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
        <svg width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2 5m0 0a2 2 0 104 0m-4 0h14m0 0a2 2 0 11-4 0" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
       </div>
       <div>
        <h1 id="store-name" class="text-xl sm:text-2xl font-bold" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">ShopHub</h1>
        <p id="tagline" class="text-xs hidden sm:block" style="color: #6b7280;">Your One-Stop Shopping Destination</p>
       </div>
      </div><!-- Desktop Navigation -->
      <nav class="hidden md:flex items-center space-x-8"><a href="#home" class="text-sm font-medium hover:opacity-70 transition-opacity" style="color: #1f2937;">Home</a> <a href="#products" class="text-sm font-medium hover:opacity-70 transition-opacity" style="color: #1f2937;">Products</a> <a href="#offers" class="text-sm font-medium hover:opacity-70 transition-opacity" style="color: #1f2937;">Offers</a> <a href="#contact" class="text-sm font-medium hover:opacity-70 transition-opacity" style="color: #1f2937;">Contact</a>
      </nav><!-- Cart & Mobile Menu -->
      <div class="flex items-center space-x-4"><button id="cart-btn" class="relative p-2 rounded-xl hover:bg-gray-100 transition-colors">
        <svg width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="#1f2937" stroke-width="2"><path d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2 5m0 0a2 2 0 104 0m-4 0h14m0 0a2 2 0 11-4 0" />
        </svg><span id="cart-count" class="absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold text-white" style="background: #ef4444;">0</span> </button> <button id="mobile-menu-btn" class="md:hidden p-2 rounded-xl hover:bg-gray-100 transition-colors">
        <svg width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="#1f2937" stroke-width="2"><path d="M4 6h16M4 12h16M4 18h16" />
        </svg></button>
      </div>
     </div>
    </div>
   </header><!-- Mobile Menu -->
   <div id="mobile-menu" class="mobile-menu fixed top-0 right-0 bottom-0 w-64 z-50 shadow-2xl" style="background: white;">
    <div class="p-6"><button id="close-menu-btn" class="mb-8 p-2 rounded-xl hover:bg-gray-100 transition-colors">
      <svg width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="#1f2937" stroke-width="2"><path d="M6 18L18 6M6 6l12 12" />
      </svg></button>
     <nav class="flex flex-col space-y-4"><a href="#home" class="text-lg font-medium hover:opacity-70 transition-opacity mobile-menu-link" style="color: #1f2937;">Home</a> <a href="#products" class="text-lg font-medium hover:opacity-70 transition-opacity mobile-menu-link" style="color: #1f2937;">Products</a> <a href="#offers" class="text-lg font-medium hover:opacity-70 transition-opacity mobile-menu-link" style="color: #1f2937;">Offers</a> <a href="#contact" class="text-lg font-medium hover:opacity-70 transition-opacity mobile-menu-link" style="color: #1f2937;">Contact</a>
     </nav>
    </div>
   </div><!-- Main Content -->
   <main class="pt-16 sm:pt-20"><!-- Hero Section -->
    <section id="home" class="py-20 sm:py-32 px-4 sm:px-6 lg:px-8 relative overflow-hidden" style="background: linear-gradient(135deg, #1e1b4b 0%, #312e81 50%, #4c1d95 100%);">
     <div class="absolute inset-0 opacity-15">
      <div class="absolute top-0 left-0 w-96 h-96 bg-purple-400 rounded-full filter blur-3xl"></div>
      <div class="absolute bottom-0 right-0 w-96 h-96 bg-pink-400 rounded-full filter blur-3xl"></div>
     </div>
     <div class="max-w-7xl mx-auto relative z-10">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
       <div class="text-left">
        <div class="inline-flex items-center space-x-2 px-4 py-2 rounded-full mb-6 badge-bounce" style="background: rgba(255,255,255,0.1); backdrop-filter: blur(10px);"><span class="w-2 h-2 rounded-full bg-green-400 animate-pulse"></span> <span class="text-sm font-medium text-white">New arrivals every week</span>
        </div>
        <h2 class="text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight">Premium Quality<br><span style="background: linear-gradient(135deg, #a78bfa 0%, #ec4899 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Meets Style</span></h2>
        <p class="text-lg text-gray-300 mb-8 max-w-xl leading-relaxed">Experience the perfect blend of quality, design, and affordability. Curated collections for the modern lifestyle.</p>
        <div class="flex flex-col sm:flex-row gap-4"><a href="#products" class="inline-flex items-center justify-center px-8 py-4 rounded-xl font-semibold text-lg transition-all hover:scale-105 hover:shadow-2xl" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; box-shadow: 0 10px 40px rgba(102, 126, 234, 0.3);"> <span>Explore Collection</span>
          <svg class="ml-2" width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M5 12h14M12 5l7 7-7 7" />
          </svg></a> <a href="#offers" class="inline-flex items-center justify-center px-8 py-4 rounded-xl font-semibold text-lg transition-all hover:scale-105" style="background: rgba(255,255,255,0.1); color: white; border: 2px solid rgba(255,255,255,0.2); backdrop-filter: blur(10px);"> <span>Special Offers</span> </a>
        </div>
        <div class="mt-12 grid grid-cols-3 gap-6">
         <div>
          <div class="text-3xl font-bold text-white mb-1">
           50K+
          </div>
          <div class="text-sm text-gray-400">
           Products Sold
          </div>
         </div>
         <div>
          <div class="text-3xl font-bold text-white mb-1">
           4.9‚òÖ
          </div>
          <div class="text-sm text-gray-400">
           Customer Rating
          </div>
         </div>
         <div>
          <div class="text-3xl font-bold text-white mb-1">
           24/7
          </div>
          <div class="text-sm text-gray-400">
           Support
          </div>
         </div>
        </div>
       </div>
       <div class="hidden lg:block">
        <div class="grid grid-cols-2 gap-4">
         <div class="space-y-4">
          <div class="rounded-2xl p-8 backdrop-filter backdrop-blur-lg" style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2);">
           <div class="text-6xl mb-4">
            üéß
           </div>
           <div class="text-white font-semibold mb-2">
            Electronics
           </div>
           <div class="text-gray-300 text-sm">
            Latest tech gadgets
           </div>
          </div>
          <div class="rounded-2xl p-8 backdrop-filter backdrop-blur-lg" style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2);">
           <div class="text-6xl mb-4">
            üëó
           </div>
           <div class="text-white font-semibold mb-2">
            Fashion
           </div>
           <div class="text-gray-300 text-sm">
            Trending styles
           </div>
          </div>
         </div>
         <div class="space-y-4 pt-8">
          <div class="rounded-2xl p-8 backdrop-filter backdrop-blur-lg" style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2);">
           <div class="text-6xl mb-4">
            üè†
           </div>
           <div class="text-white font-semibold mb-2">
            Home &amp; Living
           </div>
           <div class="text-gray-300 text-sm">
            Comfort essentials
           </div>
          </div>
          <div class="rounded-2xl p-8 backdrop-filter backdrop-blur-lg" style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2);">
           <div class="text-6xl mb-4">
            üíé
           </div>
           <div class="text-white font-semibold mb-2">
            Accessories
           </div>
           <div class="text-gray-300 text-sm">
            Perfect finishing
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
    </section><!-- Trust Stats Section -->
    <section class="py-12 px-4 sm:px-6 lg:px-8 -mt-16">
     <div class="max-w-7xl mx-auto">
      <div class="rounded-3xl p-8 sm:p-12" style="background: white; box-shadow: 0 20px 60px rgba(0,0,0,0.08);">
       <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
        <div class="text-center">
         <div class="inline-flex items-center justify-center w-16 h-16 rounded-2xl mb-4" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
          <svg width="32" height="32" viewbox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2" /> <circle cx="9" cy="7" r="4" /> <path d="M23 21v-2a4 4 0 00-3-3.87m-4-12a4 4 0 010 7.75" />
          </svg>
         </div>
         <div class="text-3xl font-bold mb-1" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
          10K+
         </div>
         <p class="text-gray-600 font-medium text-sm">Happy Customers</p>
        </div>
        <div class="text-center">
         <div class="inline-flex items-center justify-center w-16 h-16 rounded-2xl mb-4" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
          <svg width="32" height="32" viewbox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2 5m0 0a2 2 0 104 0m-4 0h14m0 0a2 2 0 11-4 0" />
          </svg>
         </div>
         <div class="text-3xl font-bold mb-1" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
          5,000+
         </div>
         <p class="text-gray-600 font-medium text-sm">Products Available</p>
        </div>
        <div class="text-center">
         <div class="inline-flex items-center justify-center w-16 h-16 rounded-2xl mb-4" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
          <svg width="32" height="32" viewbox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
          </svg>
         </div>
         <div class="text-3xl font-bold mb-1" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
          99.9%
         </div>
         <p class="text-gray-600 font-medium text-sm">Satisfaction Rate</p>
        </div>
        <div class="text-center">
         <div class="inline-flex items-center justify-center w-16 h-16 rounded-2xl mb-4" style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);">
          <svg width="32" height="32" viewbox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><circle cx="12" cy="12" r="10" /> <path d="M12 6v6l4 2" />
          </svg>
         </div>
         <div class="text-3xl font-bold mb-1" style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
          24/7
         </div>
         <p class="text-gray-600 font-medium text-sm">Customer Support</p>
        </div>
       </div>
      </div>
     </div>
    </section><!-- Special Offer Banner -->
    <section id="offers" class="py-8 px-4 sm:px-6 lg:px-8">
     <div class="max-w-7xl mx-auto">
      <div class="rounded-3xl overflow-hidden relative" style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); box-shadow: 0 20px 60px rgba(239, 68, 68, 0.3);">
       <div class="absolute inset-0 opacity-20">
        <div class="absolute -top-12 -right-12 w-64 h-64 bg-white rounded-full"></div>
        <div class="absolute -bottom-12 -left-12 w-64 h-64 bg-white rounded-full"></div>
       </div>
       <div class="relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-8 p-8 sm:p-12 items-center">
        <div>
         <div class="inline-flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-bold mb-4" style="background: rgba(255,255,255,0.2);">
          <svg width="16" height="16" viewbox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5"><circle cx="12" cy="12" r="10" /> <path d="M12 6v6l4 2" />
          </svg><span class="text-white">LIMITED TIME OFFER</span>
         </div>
         <h3 id="offer-title" class="text-3xl sm:text-4xl font-bold text-white mb-4">Up to 50% Off Today!</h3>
         <p id="offer-description" class="text-lg text-white text-opacity-90 mb-6">Don't miss our biggest sale of the season. Free shipping on orders over $50.</p><a href="#products" class="inline-flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all hover:scale-105" style="background: white; color: #ef4444; box-shadow: 0 4px 16px rgba(0,0,0,0.2);"> <span>Shop Now</span>
          <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M5 12h14M12 5l7 7-7 7" />
          </svg></a>
        </div>
        <div class="hidden lg:grid grid-cols-2 gap-4">
         <div class="rounded-2xl p-6 backdrop-filter backdrop-blur-lg" style="background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3);">
          <div class="text-5xl mb-3">
           üéÅ
          </div>
          <div class="text-white font-bold mb-1">
           Free Gift
          </div>
          <div class="text-white text-opacity-80 text-sm">
           With every purchase
          </div>
         </div>
         <div class="rounded-2xl p-6 backdrop-filter backdrop-blur-lg" style="background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3);">
          <div class="text-5xl mb-3">
           üöö
          </div>
          <div class="text-white font-bold mb-1">
           Fast Delivery
          </div>
          <div class="text-white text-opacity-80 text-sm">
           2-3 business days
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
    </section><!-- Products Section -->
    <section id="products" class="py-12 px-4 sm:px-6 lg:px-8">
     <div class="max-w-7xl mx-auto">
      <h3 class="text-2xl sm:text-3xl font-bold mb-8 text-center" style="color: #1f2937;">Featured Products by Category</h3><!-- Featured Products Preview with Carousel -->
      <div id="featured-products-grid" class="space-y-12"><!-- Featured product carousels will be dynamically inserted here -->
      </div><!-- View All Products Button -->
      <div class="text-center mt-12"><button id="view-all-products-btn" class="px-12 py-5 rounded-2xl font-bold text-xl transition-all hover:scale-105" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);"> View All Products ‚Üí </button>
      </div>
     </div>
    </section><!-- Features Section -->
    <section class="py-20 px-4 sm:px-6 lg:px-8" style="background: white;">
     <div class="max-w-7xl mx-auto">
      <div class="text-center mb-16">
       <h3 class="text-3xl sm:text-4xl font-bold mb-4" style="color: #1f2937;">Why Choose Us</h3>
       <p class="text-lg text-gray-600 max-w-2xl mx-auto">Experience shopping made simple with our commitment to quality, security, and customer satisfaction</p>
      </div>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
       <div class="text-center p-8 rounded-2xl transition-all hover:shadow-xl" style="background: linear-gradient(135deg, #f8f9ff 0%, #e8eaff 100%);">
        <div class="inline-flex items-center justify-center w-20 h-20 rounded-2xl mb-6" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
         <svg width="40" height="40" viewbox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4A2 2 0 0021 16z" /> <path d="M3.27 6.96L12 12.01l8.73-5.05M12 22.08V12" />
         </svg>
        </div>
        <h4 class="text-xl font-bold mb-3" style="color: #1f2937;">Free Shipping</h4>
        <p class="text-gray-600">Free delivery on all orders over $50. No hidden charges, ever.</p>
       </div>
       <div class="text-center p-8 rounded-2xl transition-all hover:shadow-xl" style="background: linear-gradient(135deg, #f8f9ff 0%, #e8eaff 100%);">
        <div class="inline-flex items-center justify-center w-20 h-20 rounded-2xl mb-6" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
         <svg width="40" height="40" viewbox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2" /> <path d="M7 11V7a5 5 0 0110 0v4" />
         </svg>
        </div>
        <h4 class="text-xl font-bold mb-3" style="color: #1f2937;">Secure Checkout</h4>
        <p class="text-gray-600">Your payment information is protected with industry-standard encryption.</p>
       </div>
       <div class="text-center p-8 rounded-2xl transition-all hover:shadow-xl" style="background: linear-gradient(135deg, #f8f9ff 0%, #e8eaff 100%);">
        <div class="inline-flex items-center justify-center w-20 h-20 rounded-2xl mb-6" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
         <svg width="40" height="40" viewbox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z" /> <path d="M9 22V12h6v10" />
         </svg>
        </div>
        <h4 class="text-xl font-bold mb-3" style="color: #1f2937;">Easy Returns</h4>
        <p class="text-gray-600">30-day hassle-free returns. Not satisfied? Get your money back.</p>
       </div>
       <div class="text-center p-8 rounded-2xl transition-all hover:shadow-xl" style="background: linear-gradient(135deg, #f8f9ff 0%, #e8eaff 100%);">
        <div class="inline-flex items-center justify-center w-20 h-20 rounded-2xl mb-6" style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);">
         <svg width="40" height="40" viewbox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z" />
         </svg>
        </div>
        <h4 class="text-xl font-bold mb-3" style="color: #1f2937;">24/7 Support</h4>
        <p class="text-gray-600">Our dedicated team is always here to help you with any questions.</p>
       </div>
      </div>
     </div>
    </section><!-- Testimonials Section -->
    <section class="py-16 px-4 sm:px-6 lg:px-8">
     <div class="max-w-7xl mx-auto">
      <h3 class="text-3xl sm:text-4xl font-bold mb-12 text-center" style="color: #1f2937;">What Our Customers Say</h3>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
       <div class="rounded-3xl p-8" style="background: white; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">
        <div class="flex items-center mb-4">
         <div class="text-4xl mr-3">
          üë§
         </div>
         <div>
          <h4 class="font-bold" style="color: #1f2937;">Sarah Johnson</h4>
          <div class="text-yellow-400 text-sm">
           ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
          </div>
         </div>
        </div>
        <p class="text-gray-600">"Amazing quality products! Fast shipping and excellent customer service. Highly recommend!"</p>
       </div>
       <div class="rounded-3xl p-8" style="background: white; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">
        <div class="flex items-center mb-4">
         <div class="text-4xl mr-3">
          üë®
         </div>
         <div>
          <h4 class="font-bold" style="color: #1f2937;">Michael Chen</h4>
          <div class="text-yellow-400 text-sm">
           ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
          </div>
         </div>
        </div>
        <p class="text-gray-600">"Best online shopping experience I've had. Great prices and the products exceeded my expectations."</p>
       </div>
       <div class="rounded-3xl p-8" style="background: white; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">
        <div class="flex items-center mb-4">
         <div class="text-4xl mr-3">
          üë©
         </div>
         <div>
          <h4 class="font-bold" style="color: #1f2937;">Emma Davis</h4>
          <div class="text-yellow-400 text-sm">
           ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
          </div>
         </div>
        </div>
        <p class="text-gray-600">"I love shopping here! The variety is incredible and everything arrives in perfect condition."</p>
       </div>
      </div>
     </div>
    </section><!-- Newsletter Section -->
    <section class="py-16 px-4 sm:px-6 lg:px-8" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);">
     <div class="max-w-4xl mx-auto text-center">
      <h3 class="text-3xl sm:text-4xl font-bold text-white mb-4">Join Our Newsletter</h3>
      <p class="text-white text-opacity-90 text-lg mb-8">Subscribe to get special offers, free giveaways, and exclusive deals!</p>
      <form id="newsletter-form" class="flex flex-col sm:flex-row gap-4 max-w-2xl mx-auto"><label for="newsletter-email" class="sr-only">Email address</label> <input type="email" id="newsletter-email" placeholder="Enter your email" required class="flex-1 px-6 py-4 rounded-2xl text-lg focus:outline-none focus:ring-4 focus:ring-white focus:ring-opacity-50" style="color: #1f2937;"> <button type="submit" class="px-8 py-4 rounded-2xl font-bold text-lg transition-all hover:scale-105" style="background: white; color: #667eea;"> Subscribe </button>
      </form>
     </div>
    </section><!-- All Products Page (Hidden by default) -->
    <section id="all-products-page" class="hidden min-h-screen py-12 px-4 sm:px-6 lg:px-8">
     <div class="max-w-7xl mx-auto">
      <div class="flex items-center justify-between mb-8"><button id="back-to-home-btn" class="flex items-center space-x-2 px-6 py-3 rounded-2xl font-semibold transition-all hover:scale-105" style="background: white; color: #667eea; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"> <span>‚Üê Back to Home</span> </button>
       <h3 class="text-2xl sm:text-3xl font-bold" style="color: #1f2937;">All Products</h3>
       <div class="w-32"></div><!-- Spacer for centering -->
      </div><!-- Filter Section -->
      <div class="mb-8">
       <h4 class="text-xl font-bold mb-4" style="color: #1f2937;">Filter by Category</h4>
       <div class="flex flex-wrap gap-3"><button class="catalog-filter-btn px-6 py-3 rounded-2xl font-semibold text-sm transition-all" data-category="all" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);"> <span class="flex items-center space-x-2">
          <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7" /> <rect x="14" y="3" width="7" height="7" /> <rect x="14" y="14" width="7" height="7" /> <rect x="3" y="14" width="7" height="7" />
          </svg><span>All Products</span> </span> </button> <button class="catalog-filter-btn px-6 py-3 rounded-2xl font-semibold text-sm transition-all" data-category="electronics" style="background: white; color: #1f2937; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"> <span class="flex items-center space-x-2">
          <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="7" width="20" height="14" rx="2" /> <path d="M16 3v4M8 3v4" />
          </svg><span>Electronics</span> </span> </button> <button class="catalog-filter-btn px-6 py-3 rounded-2xl font-semibold text-sm transition-all" data-category="fashion" style="background: white; color: #1f2937; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"> <span class="flex items-center space-x-2">
          <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2L2 7l10 5 10-5-10-5z" /> <path d="M2 17l10 5 10-5M2 12l10 5 10-5" />
          </svg><span>Fashion</span> </span> </button> <button class="catalog-filter-btn px-6 py-3 rounded-2xl font-semibold text-sm transition-all" data-category="home" style="background: white; color: #1f2937; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"> <span class="flex items-center space-x-2">
          <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z" /> <path d="M9 22V12h6v10" />
          </svg><span>Home &amp; Living</span> </span> </button> <button class="catalog-filter-btn px-6 py-3 rounded-2xl font-semibold text-sm transition-all" data-category="accessories" style="background: white; color: #1f2937; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"> <span class="flex items-center space-x-2">
          <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3" /> <path d="M12 1v6m0 6v6m9-9h-6m-6 0H3" />
          </svg><span>Accessories</span> </span> </button> <button class="catalog-filter-btn px-6 py-3 rounded-2xl font-semibold text-sm transition-all" data-category="sports" style="background: white; color: #1f2937; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"> <span class="flex items-center space-x-2">
          <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10" /> <path d="M12 2a14.5 14.5 0 000 20 14.5 14.5 0 000-20" />
          </svg><span>Sports &amp; Fitness</span> </span> </button> <button class="catalog-filter-btn px-6 py-3 rounded-2xl font-semibold text-sm transition-all" data-category="beauty" style="background: white; color: #1f2937; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"> <span class="flex items-center space-x-2">
          <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6" />
          </svg><span>Beauty &amp; Care</span> </span> </button> <button class="catalog-filter-btn px-6 py-3 rounded-2xl font-semibold text-sm transition-all" data-category="books" style="background: white; color: #1f2937; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"> <span class="flex items-center space-x-2">
          <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5A2.5 2.5 0 016.5 17H20" /> <path d="M6.5 2H20v20H6.5A2.5 2.5 0 014 19.5v-15A2.5 2.5 0 016.5 2z" />
          </svg><span>Books &amp; Media</span> </span> </button> <button class="catalog-filter-btn px-6 py-3 rounded-2xl font-semibold text-sm transition-all" data-category="toys" style="background: white; color: #1f2937; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"> <span class="flex items-center space-x-2">
          <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="5" r="3" /> <path d="M12 8v5l3 3" />
          </svg><span>Toys &amp; Games</span> </span> </button> <button class="catalog-filter-btn px-6 py-3 rounded-2xl font-semibold text-sm transition-all" data-category="food" style="background: white; color: #1f2937; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"> <span class="flex items-center space-x-2">
          <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 8h1a4 4 0 010 8h-1" /> <path d="M2 8h16v9a4 4 0 01-4 4H6a4 4 0 01-4-4V8z" /> <line x1="6" y1="1" x2="6" y2="4" /> <line x1="10" y1="1" x2="10" y2="4" /> <line x1="14" y1="1" x2="14" y2="4" />
          </svg><span>Food &amp; Grocery</span> </span> </button> <button class="catalog-filter-btn px-6 py-3 rounded-2xl font-semibold text-sm transition-all" data-category="automotive" style="background: white; color: #1f2937; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"> <span class="flex items-center space-x-2">
          <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="7" cy="17" r="2" /> <circle cx="17" cy="17" r="2" /> <path d="M5 17H3v-5l2-4h8l4 4h2a2 2 0 012 2v3h-2" />
          </svg><span>Automotive</span> </span> </button> <button class="catalog-filter-btn px-6 py-3 rounded-2xl font-semibold text-sm transition-all" data-category="pets" style="background: white; color: #1f2937; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"> <span class="flex items-center space-x-2">
          <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="10" r="3" /> <circle cx="6" cy="7" r="2" /> <circle cx="18" cy="7" r="2" /> <circle cx="6" cy="15" r="2" /> <circle cx="18" cy="15" r="2" />
          </svg><span>Pet Supplies</span> </span> </button>
       </div>
      </div><!-- Sub-Filter Section (Hidden by default) -->
      <div id="subfilter-section" class="mb-12 hidden">
       <div class="rounded-2xl p-6" style="background: linear-gradient(135deg, #f8f9ff 0%, #e8eaff 100%); border: 2px solid rgba(102, 126, 234, 0.2);">
        <div class="flex items-center justify-between mb-4">
         <h4 class="text-lg font-bold" style="color: #1f2937;"><span id="subfilter-title">Filter by Type</span></h4><button id="clear-subfilter-btn" class="text-sm font-semibold hover:opacity-70 transition-opacity" style="color: #667eea;"> Clear Filter </button>
        </div>
        <div id="subfilter-buttons" class="flex flex-wrap gap-2"><!-- Subcategory buttons will be inserted here -->
        </div>
       </div>
      </div><!-- All Products Grid -->
      <div id="all-products-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"><!-- Products will be dynamically inserted here -->
      </div>
     </div>
    </section>
   </main><!-- Footer -->
   <footer class="py-12 px-4 sm:px-6 lg:px-8 mt-20" style="background: linear-gradient(135deg, #1e1b4b 0%, #312e81 100%);">
    <div class="max-w-7xl mx-auto">
     <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 mb-8">
      <div>
       <h4 class="text-lg font-bold text-white mb-4">About Us</h4>
       <p class="text-gray-400 text-sm">Your trusted online shopping destination for quality products at great prices.</p>
      </div>
      <div>
       <h4 class="text-lg font-bold text-white mb-4">Quick Links</h4>
       <ul class="space-y-2">
        <li><a href="#home" class="text-gray-400 text-sm hover:text-white transition-colors">Home</a></li>
        <li><a href="#products" class="text-gray-400 text-sm hover:text-white transition-colors">Products</a></li>
        <li><a href="#offers" class="text-gray-400 text-sm hover:text-white transition-colors">Offers</a></li>
       </ul>
      </div>
      <div>
       <h4 class="text-lg font-bold text-white mb-4">Customer Service</h4>
       <ul class="space-y-2">
        <li><a href="#contact" class="text-gray-400 text-sm hover:text-white transition-colors">Contact Us</a></li>
        <li><a href="#" class="text-gray-400 text-sm hover:text-white transition-colors">Shipping Info</a></li>
        <li><a href="#" class="text-gray-400 text-sm hover:text-white transition-colors">Returns</a></li>
       </ul>
      </div>
      <div>
       <h4 class="text-lg font-bold text-white mb-4">Connect</h4>
       <div class="flex space-x-4"><a href="#" class="w-10 h-10 rounded-full flex items-center justify-center hover:opacity-80 transition-opacity" style="background: rgba(255,255,255,0.1);"> <span class="text-white">üìò</span> </a> <a href="#" class="w-10 h-10 rounded-full flex items-center justify-center hover:opacity-80 transition-opacity" style="background: rgba(255,255,255,0.1);"> <span class="text-white">üì∑</span> </a> <a href="#" class="w-10 h-10 rounded-full flex items-center justify-center hover:opacity-80 transition-opacity" style="background: rgba(255,255,255,0.1);"> <span class="text-white">üê¶</span> </a>
       </div>
      </div>
     </div>
     <div class="border-t border-gray-700 pt-8 text-center">
      <p id="footer-text" class="text-gray-400 text-sm">¬© 2024 ShopHub. All rights reserved.</p>
     </div>
    </div>
   </footer><!-- Product Detail Modal -->
   <div id="product-modal" class="fixed inset-0 z-50 hidden" style="background: rgba(0,0,0,0.5); backdrop-filter: blur(4px);">
    <div class="h-full overflow-y-auto py-8 px-4">
     <div class="max-w-4xl mx-auto">
      <div class="rounded-3xl p-8 relative" style="background: white; box-shadow: 0 20px 60px rgba(0,0,0,0.3);"><button id="close-modal-btn" class="absolute top-6 right-6 w-10 h-10 rounded-full flex items-center justify-center hover:bg-gray-100 transition-colors">
        <svg width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="#1f2937" stroke-width="2"><path d="M6 18L18 6M6 6l12 12" />
        </svg></button>
       <div class="grid grid-cols-1 md:grid-cols-2 gap-8"><!-- Image Gallery -->
        <div>
         <div id="modal-main-image" class="text-9xl text-center mb-4 p-8 rounded-2xl" style="background: linear-gradient(135deg, #f8f9ff 0%, #e8eaff 100%);">
          üéß
         </div>
         <div id="modal-thumbnail-container" class="flex justify-center space-x-3"><!-- Thumbnails will be inserted here -->
         </div>
        </div><!-- Product Details -->
        <div>
         <div class="mb-3"><span id="modal-brand" class="text-sm font-semibold px-3 py-1 rounded-full" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">Brand</span>
         </div>
         <h2 id="modal-title" class="text-3xl font-bold mb-3" style="color: #1f2937;">Product Name</h2>
         <div class="flex items-center mb-4"><span id="modal-rating" class="text-yellow-400 text-lg mr-2">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span> <span id="modal-rating-num" class="text-gray-600">4.5</span> <span id="modal-stock" class="ml-auto text-green-600 font-semibold">In Stock</span>
         </div>
         <p id="modal-description" class="text-gray-600 mb-6 leading-relaxed">Product description goes here</p>
         <div class="mb-6"><span id="modal-price" class="text-4xl font-bold" style="color: #667eea;">$79.99</span>
         </div>
         <div class="space-y-4"><button id="modal-add-to-cart" class="w-full py-4 rounded-2xl font-bold text-lg transition-all hover:scale-105" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);"> Add to Cart </button> <button id="modal-buy-now" class="w-full py-4 rounded-2xl font-bold text-lg transition-all hover:scale-105" style="background: white; color: #667eea; border: 2px solid #667eea;"> Buy Now </button>
         </div>
         <div class="mt-6 pt-6 border-t border-gray-200">
          <h3 class="font-bold mb-3" style="color: #1f2937;">Product Details</h3>
          <ul id="modal-details" class="space-y-2 text-sm text-gray-600">
           <li class="flex items-start"><span class="mr-2">‚úì</span> <span>Free shipping on orders over $50</span></li>
           <li class="flex items-start"><span class="mr-2">‚úì</span> <span>30-day return policy</span></li>
           <li class="flex items-start"><span class="mr-2">‚úì</span> <span>1-year warranty included</span></li>
          </ul>
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>
   </div><!-- Shopping Cart Sidebar -->
   <div id="cart-sidebar" class="fixed top-0 right-0 bottom-0 w-full sm:w-96 z-50 shadow-2xl transform translate-x-full transition-transform duration-300" style="background: white;">
    <div class="h-full flex flex-col">
     <div class="p-6 border-b border-gray-200">
      <div class="flex items-center justify-between">
       <h2 class="text-2xl font-bold" style="color: #1f2937;">Shopping Cart</h2><button id="close-cart-btn" class="p-2 rounded-xl hover:bg-gray-100 transition-colors">
        <svg width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="#1f2937" stroke-width="2"><path d="M6 18L18 6M6 6l12 12" />
        </svg></button>
      </div>
     </div>
     <div id="cart-items-container" class="flex-1 overflow-y-auto p-6"><!-- Cart items will be inserted here -->
     </div>
     <div class="p-6 border-t border-gray-200">
      <div class="mb-4">
       <div class="flex items-center justify-between mb-2"><span class="text-gray-600">Subtotal:</span> <span id="cart-subtotal" class="font-bold text-lg" style="color: #1f2937;">$0.00</span>
       </div>
       <div class="flex items-center justify-between mb-2"><span class="text-gray-600">Shipping:</span> <span class="text-green-600 font-semibold">Free</span>
       </div>
       <div class="flex items-center justify-between pt-2 border-t border-gray-200"><span class="text-xl font-bold" style="color: #1f2937;">Total:</span> <span id="cart-total" class="text-2xl font-bold" style="color: #667eea;">$0.00</span>
       </div>
      </div><button id="checkout-btn" class="w-full py-4 rounded-2xl font-bold text-lg transition-all hover:scale-105" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);"> Proceed to Checkout </button>
     </div>
    </div>
   </div><!-- Checkout Modal -->
   <div id="checkout-modal" class="fixed inset-0 z-50 hidden" style="background: rgba(0,0,0,0.5); backdrop-filter: blur(4px);">
    <div class="h-full overflow-y-auto py-8 px-4">
     <div class="max-w-3xl mx-auto">
      <div class="rounded-3xl p-8 relative" style="background: white; box-shadow: 0 20px 60px rgba(0,0,0,0.3);"><button id="close-checkout-btn" class="absolute top-6 right-6 w-10 h-10 rounded-full flex items-center justify-center hover:bg-gray-100 transition-colors">
        <svg width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="#1f2937" stroke-width="2"><path d="M6 18L18 6M6 6l12 12" />
        </svg></button>
       <h2 class="text-3xl font-bold mb-8" style="color: #1f2937;">Complete Your Order</h2>
       <form id="checkout-form"><!-- Shipping Information -->
        <div class="checkout-step">
         <h3 class="text-xl font-bold mb-4 flex items-center" style="color: #1f2937;"><span class="w-8 h-8 rounded-full flex items-center justify-center mr-3" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">1</span> Shipping Information</h3>
         <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div><label for="checkout-name" class="block text-sm font-semibold mb-2" style="color: #1f2937;">Full Name</label> <input type="text" id="checkout-name" required class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none">
          </div>
          <div><label for="checkout-phone" class="block text-sm font-semibold mb-2" style="color: #1f2937;">Phone Number</label> <input type="tel" id="checkout-phone" required class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none">
          </div>
          <div class="sm:col-span-2"><label for="checkout-address" class="block text-sm font-semibold mb-2" style="color: #1f2937;">Delivery Address</label> <textarea id="checkout-address" required rows="3" class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none"></textarea>
          </div>
          <div><label for="checkout-city" class="block text-sm font-semibold mb-2" style="color: #1f2937;">City</label> <input type="text" id="checkout-city" required class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none">
          </div>
          <div><label for="checkout-postal" class="block text-sm font-semibold mb-2" style="color: #1f2937;">Postal Code</label> <input type="text" id="checkout-postal" required class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:outline-none">
          </div>
         </div>
        </div><!-- Payment Method -->
        <div class="checkout-step">
         <h3 class="text-xl font-bold mb-4 flex items-center" style="color: #1f2937;"><span class="w-8 h-8 rounded-full flex items-center justify-center mr-3" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">2</span> Payment Method</h3>
         <div class="space-y-3">
          <div class="payment-option" data-payment="bkash">
           <div class="flex items-center"><input type="radio" id="payment-bkash" name="payment" value="bkash" class="w-5 h-5 mr-3"> <label for="payment-bkash" class="flex-1 flex items-center justify-between cursor-pointer">
             <div class="flex items-center">
              <div class="text-2xl mr-3">
               üì±
              </div>
              <div>
               <div class="font-bold" style="color: #1f2937;">
                bKash
               </div>
               <div class="text-sm text-gray-600">
                Mobile payment
               </div>
              </div>
             </div></label>
           </div>
          </div>
          <div class="payment-option" data-payment="nagad">
           <div class="flex items-center"><input type="radio" id="payment-nagad" name="payment" value="nagad" class="w-5 h-5 mr-3"> <label for="payment-nagad" class="flex-1 flex items-center justify-between cursor-pointer">
             <div class="flex items-center">
              <div class="text-2xl mr-3">
               üí≥
              </div>
              <div>
               <div class="font-bold" style="color: #1f2937;">
                Nagad
               </div>
               <div class="text-sm text-gray-600">
                Mobile payment
               </div>
              </div>
             </div></label>
           </div>
          </div>
          <div class="payment-option" data-payment="rocket">
           <div class="flex items-center"><input type="radio" id="payment-rocket" name="payment" value="rocket" class="w-5 h-5 mr-3"> <label for="payment-rocket" class="flex-1 flex items-center justify-between cursor-pointer">
             <div class="flex items-center">
              <div class="text-2xl mr-3">
               üöÄ
              </div>
              <div>
               <div class="font-bold" style="color: #1f2937;">
                Rocket
               </div>
               <div class="text-sm text-gray-600">
                Mobile payment
               </div>
              </div>
             </div></label>
           </div>
          </div>
          <div class="payment-option" data-payment="bank">
           <div class="flex items-center"><input type="radio" id="payment-bank" name="payment" value="bank" class="w-5 h-5 mr-3"> <label for="payment-bank" class="flex-1 flex items-center justify-between cursor-pointer">
             <div class="flex items-center">
              <div class="text-2xl mr-3">
               üè¶
              </div>
              <div>
               <div class="font-bold" style="color: #1f2937;">
                Bank Transfer
               </div>
               <div class="text-sm text-gray-600">
                Direct bank payment
               </div>
              </div>
             </div></label>
           </div>
          </div>
          <div class="payment-option" data-payment="card">
           <div class="flex items-center"><input type="radio" id="payment-card" name="payment" value="card" class="w-5 h-5 mr-3"> <label for="payment-card" class="flex-1 flex items-center justify-between cursor-pointer">
             <div class="flex items-center">
              <div class="text-2xl mr-3">
               üíé
              </div>
              <div>
               <div class="font-bold" style="color: #1f2937;">
                Credit/Debit Card
               </div>
               <div class="text-sm text-gray-600">
                Visa, Mastercard, Amex
               </div>
              </div>
             </div></label>
           </div>
          </div>
          <div class="payment-option" data-payment="cod">
           <div class="flex items-center"><input type="radio" id="payment-cod" name="payment" value="cod" class="w-5 h-5 mr-3" checked> <label for="payment-cod" class="flex-1 flex items-center justify-between cursor-pointer">
             <div class="flex items-center">
              <div class="text-2xl mr-3">
               üíµ
              </div>
              <div>
               <div class="font-bold" style="color: #1f2937;">
                Cash on Delivery
               </div>
               <div class="text-sm text-gray-600">
                Pay when you receive
               </div>
              </div>
             </div></label>
           </div>
          </div>
         </div>
        </div><!-- Order Summary -->
        <div class="checkout-step">
         <h3 class="text-xl font-bold mb-4 flex items-center" style="color: #1f2937;"><span class="w-8 h-8 rounded-full flex items-center justify-center mr-3" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">3</span> Order Summary</h3>
         <div id="checkout-items" class="space-y-3 mb-4"><!-- Order items will be inserted here -->
         </div>
         <div class="pt-4 border-t border-gray-200">
          <div class="flex justify-between mb-2"><span class="text-gray-600">Subtotal:</span> <span id="checkout-subtotal" class="font-bold">$0.00</span>
          </div>
          <div class="flex justify-between mb-2"><span class="text-gray-600">Delivery Charge:</span> <span class="text-green-600 font-semibold">Free</span>
          </div>
          <div class="flex justify-between pt-2 border-t border-gray-200"><span class="text-xl font-bold" style="color: #1f2937;">Total:</span> <span id="checkout-total" class="text-2xl font-bold" style="color: #667eea;">$0.00</span>
          </div>
         </div>
        </div><button type="submit" class="w-full py-4 rounded-2xl font-bold text-lg transition-all hover:scale-105" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);"> Place Order </button>
       </form>
      </div>
     </div>
    </div>
   </div>
  </div>
  <script>
    const defaultConfig = {
      store_name: "ShopHub",
      tagline: "Your One-Stop Shopping Destination",
      offer_title: "Up to 50% Off Today!",
      offer_description: "Don't miss our biggest sale of the season. Free shipping on orders over $50.",
      footer_text: "¬© 2024 ShopHub. All rights reserved.",
      primary_gradient_start: "#667eea",
      primary_gradient_end: "#764ba2",
      background_color: "#f8f9ff",
      surface_color: "#ffffff",
      text_color: "#1f2937",
      accent_color: "#ef4444"
    };

    // Expanded product catalog
    const products = [
      { id: 1, name: "Wireless Headphones", category: "electronics", price: 79.99, image: "üéß", rating: 4.5, description: "Premium noise-cancelling headphones with 30-hour battery life", images: ["üéß", "üéµ", "üîä"], stock: 45, brand: "AudioTech" },
      { id: 2, name: "Smart Watch", category: "electronics", price: 199.99, image: "‚åö", rating: 4.8, description: "Fitness tracking smartwatch with heart rate monitor", images: ["‚åö", "üíì", "üì±"], stock: 32, brand: "TechTime" },
      { id: 3, name: "4K Smart TV", category: "electronics", price: 599.99, image: "üì∫", rating: 4.9, description: "55-inch 4K Ultra HD Smart TV with HDR", images: ["ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ", "üé¨", "üñºÔ∏è"], stock: 12, brand: "ViewMax" },
      { id: 4, name: "Laptop Pro", category: "electronics", price: 1299.99, image: "üíª", rating: 4.7, description: "15-inch professional laptop with 16GB RAM", images: ["üíª", "‚å®Ô∏è", "üñ±Ô∏è"], stock: 18, brand: "CompuTech" },
      
      { id: 5, name: "Designer T-Shirt", category: "fashion", price: 29.99, image: "üëï", rating: 4.3, description: "Premium cotton t-shirt with modern design", images: ["üëï", "üëî", "üé®"], stock: 120, brand: "StyleWear" },
      { id: 6, name: "Leather Jacket", category: "fashion", price: 149.99, image: "üß•", rating: 4.7, description: "Genuine leather jacket with classic cut", images: ["üß•", "üé©", "‚ú®"], stock: 24, brand: "LeatherLux" },
      { id: 7, name: "Sneakers", category: "fashion", price: 119.99, image: "üëü", rating: 4.6, description: "Comfortable running shoes with cushioned sole", images: ["üëü", "üèÉ", "ÔøΩÔøΩÔøΩ"], stock: 67, brand: "RunFast" },
      { id: 8, name: "Denim Jeans", category: "fashion", price: 69.99, image: "üëñ", rating: 4.4, description: "Classic fit denim jeans in dark wash", images: ["ÔøΩÔøΩ", "‚úÇÔ∏è", "üîµ"], stock: 89, brand: "DenimCo" },
      
      { id: 9, name: "Table Lamp", category: "home", price: 39.99, image: "üí°", rating: 4.2, description: "Modern LED table lamp with adjustable brightness", images: ["üí°", "üè†", "üåü"], stock: 56, brand: "LightHome" },
      { id: 10, name: "Throw Pillow", category: "home", price: 24.99, image: "üõãÔ∏è", rating: 4.4, description: "Soft decorative pillow with geometric pattern", images: ["üõãÔ∏è", "üé®", "‚ú®"], stock: 134, brand: "CozyHome" },
      { id: 11, name: "Wall Art", category: "home", price: 49.99, image: "üñºÔ∏è", rating: 4.3, description: "Canvas wall art with abstract design", images: ["üñºÔ∏è", "üé®", "üåà"], stock: 42, brand: "ArtWall" },
      { id: 12, name: "Coffee Maker", category: "home", price: 89.99, image: "‚òï", rating: 4.6, description: "Programmable coffee maker with thermal carafe", images: ["‚òï", "üè†", "‚è∞"], stock: 28, brand: "BrewMaster" },
      
      { id: 13, name: "Sunglasses", category: "accessories", price: 59.99, image: "üï∂Ô∏è", rating: 4.6, description: "UV protection sunglasses with polarized lenses", images: ["üï∂Ô∏è", "‚òÄÔ∏è", "üòé"], stock: 78, brand: "SunStyle" },
      { id: 14, name: "Backpack", category: "accessories", price: 69.99, image: "üéí", rating: 4.5, description: "Water-resistant backpack with laptop compartment", images: ["üéí", "üíº", "üéì"], stock: 91, brand: "TravelPro" },
      { id: 15, name: "Watch Band", category: "accessories", price: 19.99, image: "‚åö", rating: 4.1, description: "Silicone sport watch band in multiple colors", images: ["‚åö", "üé®", "üí™"], stock: 156, brand: "BandIt" },
      { id: 16, name: "Wallet", category: "accessories", price: 34.99, image: "üëõ", rating: 4.4, description: "Leather wallet with RFID protection", images: ["üëõ", "ÔøΩÔøΩÔøΩÔøΩ", "üîí"], stock: 103, brand: "SecureWallet" },
      
      { id: 17, name: "Yoga Mat", category: "sports", price: 29.99, image: "üßò", rating: 4.5, description: "Non-slip yoga mat with carrying strap", images: ["üßò", "üí™", "üåø"], stock: 87, brand: "FitFlow" },
      { id: 18, name: "Dumbbell Set", category: "sports", price: 89.99, image: "üèãÔ∏è", rating: 4.7, description: "Adjustable dumbbell set 5-25 lbs", images: ["üèãÔ∏è", "üí™", "‚ö°"], stock: 34, brand: "PowerGym" },
      { id: 19, name: "Running Shoes", category: "sports", price: 129.99, image: "üëü", rating: 4.8, description: "Lightweight running shoes with breathable mesh", images: ["üëü", "üèÉ", "üí®"], stock: 62, brand: "SpeedRun" },
      { id: 20, name: "Water Bottle", category: "sports", price: 19.99, image: "üíß", rating: 4.3, description: "Insulated stainless steel water bottle", images: ["üíß", "‚ùÑÔ∏è", "‚ô®Ô∏è"], stock: 201, brand: "HydroMax" },
      
      { id: 21, name: "Face Cream", category: "beauty", price: 39.99, image: "‚ú®", rating: 4.6, description: "Anti-aging face cream with vitamin C", images: ["‚ú®", "üíÜ", "üå∏"], stock: 112, brand: "GlowSkin" },
      { id: 22, name: "Perfume", category: "beauty", price: 79.99, image: "üíê", rating: 4.8, description: "Luxury eau de parfum with floral notes", images: ["üíê", "üåπ", "ÔøΩÔøΩ"], stock: 67, brand: "Essence" },
      { id: 23, name: "Hair Dryer", category: "beauty", price: 59.99, image: "üíá", rating: 4.4, description: "Professional ionic hair dryer 1800W", images: ["üíá", "üí®", "‚ú®"], stock: 43, brand: "StylePro" },
      { id: 24, name: "Makeup Set", category: "beauty", price: 49.99, image: "ÔøΩÔøΩÔøΩ", rating: 4.5, description: "Complete makeup set with brushes", images: ["üíÑ", "üé®", "üíã"], stock: 89, brand: "BeautyBox" },
      
      { id: 25, name: "Fiction Novel", category: "books", price: 14.99, image: "üìö", rating: 4.7, description: "Bestselling thriller novel by award-winning author", images: ["üìö", "üìñ", "‚úçÔ∏è"], stock: 234, brand: "BookHouse" },
      { id: 26, name: "Cookbook", category: "books", price: 24.99, image: "üìó", rating: 4.6, description: "Healthy recipes cookbook with 200+ dishes", images: ["üìó", "üç≥", "ü•ó"], stock: 156, brand: "ChefBooks" },
      { id: 27, name: "Wireless Mouse", category: "electronics", price: 24.99, image: "üñ±Ô∏è", rating: 4.3, description: "Ergonomic wireless mouse with USB receiver", images: ["üñ±Ô∏è", "üíª", "‚ö°"], stock: 178, brand: "ClickTech" },
      
      { id: 28, name: "Building Blocks", category: "toys", price: 34.99, image: "üß±", rating: 4.8, description: "Creative building blocks set 500 pieces", images: ["üß±", "üé®", "üèóÔ∏è"], stock: 92, brand: "BuildFun" },
      { id: 29, name: "Board Game", category: "toys", price: 29.99, image: "üé≤", rating: 4.6, description: "Strategy board game for family fun", images: ["üé≤", "üéØ", "üë®‚Äçüë©‚Äçüëß‚Äçüë¶"], stock: 67, brand: "GameNight" },
      { id: 30, name: "Remote Car", category: "toys", price: 49.99, image: "üöó", rating: 4.5, description: "RC racing car with rechargeable battery", images: ["üöó", "üèÅ", "üîã"], stock: 54, brand: "SpeedToys" },
      
      { id: 31, name: "Organic Coffee", category: "food", price: 12.99, image: "‚òï", rating: 4.7, description: "Premium organic coffee beans 1lb", images: ["‚òï", "üå±", "üòã"], stock: 312, brand: "BeanSource" },
      { id: 32, name: "Protein Bars", category: "food", price: 19.99, image: "üç´", rating: 4.4, description: "High protein energy bars variety pack", images: ["üç´", "üí™", "ü•ú"], stock: 267, brand: "FitFood" },
      { id: 33, name: "Olive Oil", category: "food", price: 16.99, image: "ü´í", rating: 4.8, description: "Extra virgin olive oil cold pressed", images: ["ü´í", "üåø", "üë®‚Äçüç≥"], stock: 189, brand: "OliveGold" },
      
      { id: 34, name: "Car Phone Mount", category: "automotive", price: 19.99, image: "üì±", rating: 4.5, description: "Universal car phone holder with 360¬∞ rotation", images: ["üì±", "üöó", "üß≠"], stock: 142, brand: "DriveSafe" },
      { id: 35, name: "Car Charger", category: "automotive", price: 14.99, image: "üîå", rating: 4.3, description: "Dual USB fast car charger", images: ["üîå", "‚ö°", "ÔøΩÔøΩ"], stock: 203, brand: "PowerDrive" },
      { id: 36, name: "Floor Mats", category: "automotive", price: 39.99, image: "üöó", rating: 4.6, description: "All-weather rubber car floor mats set", images: ["üöó", "üßπ", "üíß"], stock: 78, brand: "AutoGuard" },
      
      { id: 37, name: "Dog Food", category: "pets", price: 34.99, image: "üêï", rating: 4.7, description: "Premium dry dog food 15lb bag", images: ["üêï", "üçñ", "‚ù§Ô∏è"], stock: 156, brand: "PetNutrition" },
      { id: 38, name: "Cat Toy Set", category: "pets", price: 15.99, image: "üêà", rating: 4.5, description: "Interactive cat toys variety pack", images: ["ÔøΩÔøΩÔøΩ", "üéæ", "üéâ"], stock: 234, brand: "KittyPlay" },
      { id: 39, name: "Pet Bed", category: "pets", price: 49.99, image: "üõèÔ∏è", rating: 4.6, description: "Cozy pet bed with washable cover", images: ["üõèÔ∏è", "üêæ", "üí§"], stock: 87, brand: "ComfyPet" },
      { id: 40, name: "Fish Tank", category: "pets", price: 89.99, image: "üê†", rating: 4.4, description: "10-gallon aquarium starter kit", images: ["üê†", "üåä", "ü™∏"], stock: 34, brand: "AquaLife" }
    ];

    let cart = [];
    let currentFilter = 'all';
    let currentSubFilter = 'all';
    let currentPage = 'home';
    
    // Subcategory definitions for each main category
    const subcategories = {
      electronics: [
        { id: 'mobiles', name: 'Mobile Phones', icon: 'üì±' },
        { id: 'laptops', name: 'Laptops', icon: 'üíª' },
        { id: 'audio', name: 'Audio & Headphones', icon: 'üéß' },
        { id: 'wearables', name: 'Smartwatches', icon: '‚åö' },
        { id: 'tv', name: 'TVs & Displays', icon: 'üì∫' },
        { id: 'cameras', name: 'Cameras', icon: 'üì∑' },
        { id: 'gaming', name: 'Gaming', icon: 'üéÆ' }
      ],
      fashion: [
        { id: 'mens', name: "Men's Clothing", icon: 'üëî' },
        { id: 'womens', name: "Women's Clothing", icon: 'üëó' },
        { id: 'shoes', name: 'Shoes & Footwear', icon: 'üëü' },
        { id: 'bags', name: 'Bags & Luggage', icon: 'üëú' },
        { id: 'jewelry', name: 'Jewelry', icon: 'üíç' }
      ],
      home: [
        { id: 'furniture', name: 'Furniture', icon: 'üõãÔ∏è' },
        { id: 'decor', name: 'Home Decor', icon: 'üñºÔ∏è' },
        { id: 'kitchen', name: 'Kitchen & Dining', icon: 'üçΩÔ∏è' },
        { id: 'bedding', name: 'Bedding & Bath', icon: 'üõèÔ∏è' },
        { id: 'lighting', name: 'Lighting', icon: 'üí°' },
        { id: 'storage', name: 'Storage & Organization', icon: 'üì¶' }
      ],
      accessories: [
        { id: 'sunglasses', name: 'Sunglasses', icon: 'üï∂Ô∏è' },
        { id: 'watches', name: 'Watches', icon: '‚åö' },
        { id: 'bags', name: 'Bags & Backpacks', icon: 'üéí' },
        { id: 'wallets', name: 'Wallets', icon: 'üëõ' },
        { id: 'belts', name: 'Belts', icon: 'üëî' }
      ],
      sports: [
        { id: 'yoga', name: 'Yoga & Fitness', icon: 'üßò' },
        { id: 'gym', name: 'Gym Equipment', icon: 'üèãÔ∏è' },
        { id: 'running', name: 'Running & Cardio', icon: 'üèÉ' },
        { id: 'outdoor', name: 'Outdoor & Camping', icon: '‚õ∫' },
        { id: 'sports-wear', name: 'Sports Wear', icon: 'üëï' }
      ],
      beauty: [
        { id: 'skincare', name: 'Skincare', icon: '‚ú®' },
        { id: 'makeup', name: 'Makeup', icon: 'üíÑ' },
        { id: 'fragrance', name: 'Fragrances', icon: 'üíê' },
        { id: 'haircare', name: 'Hair Care', icon: 'üíá' },
        { id: 'tools', name: 'Beauty Tools', icon: 'ü™í' }
      ],
      books: [
        { id: 'fiction', name: 'Fiction', icon: 'üìö' },
        { id: 'non-fiction', name: 'Non-Fiction', icon: 'üìñ' },
        { id: 'educational', name: 'Educational', icon: 'üìï' },
        { id: 'comics', name: 'Comics & Manga', icon: 'üìô' },
        { id: 'magazines', name: 'Magazines', icon: 'üì∞' }
      ],
      toys: [
        { id: 'building', name: 'Building & Construction', icon: 'üß±' },
        { id: 'board-games', name: 'Board Games', icon: 'üé≤' },
        { id: 'remote', name: 'Remote Control', icon: 'üöó' },
        { id: 'educational-toys', name: 'Educational Toys', icon: 'üéì' },
        { id: 'outdoor-toys', name: 'Outdoor Play', icon: '‚öΩ' }
      ],
      food: [
        { id: 'beverages', name: 'Beverages', icon: '‚òï' },
        { id: 'snacks', name: 'Snacks', icon: 'üçø' },
        { id: 'organic', name: 'Organic', icon: 'üå±' },
        { id: 'frozen', name: 'Frozen Foods', icon: 'üßä' },
        { id: 'pantry', name: 'Pantry Staples', icon: 'ü´í' }
      ],
      automotive: [
        { id: 'accessories', name: 'Car Accessories', icon: 'üöó' },
        { id: 'parts', name: 'Auto Parts', icon: 'üîß' },
        { id: 'electronics', name: 'Car Electronics', icon: 'üì±' },
        { id: 'care', name: 'Car Care', icon: 'üßΩ' }
      ],
      pets: [
        { id: 'dogs', name: 'Dogs', icon: 'üêï' },
        { id: 'cats', name: 'Cats', icon: 'üêà' },
        { id: 'fish', name: 'Fish & Aquariums', icon: 'üê†' },
        { id: 'birds', name: 'Birds', icon: 'üê¶' },
        { id: 'small-pets', name: 'Small Pets', icon: 'üêπ' }
      ]
    };

    // Render product card HTML
    function createProductCard(product) {
      return `
        <div class="product-card rounded-3xl p-6 cursor-pointer" data-product-id="${product.id}" style="background: ${defaultConfig.surface_color}; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">
          <div class="text-6xl mb-4 text-center">${product.image}</div>
          <div class="mb-2">
            <span class="text-xs font-semibold px-3 py-1 rounded-full" style="background: ${defaultConfig.primary_gradient_start}; color: white; opacity: 0.8;">${product.brand}</span>
          </div>
          <h4 class="text-lg font-bold mb-2" style="color: ${defaultConfig.text_color};">${product.name}</h4>
          <div class="flex items-center mb-3">
            <span class="text-yellow-400 text-sm mr-2">${'‚≠ê'.repeat(Math.floor(product.rating))}</span>
            <span class="text-gray-500 text-sm">${product.rating}</span>
            <span class="ml-auto text-xs text-gray-500">${product.stock} in stock</span>
          </div>
          <div class="flex items-center justify-between">
            <span class="text-2xl font-bold" style="color: ${defaultConfig.primary_gradient_start};">$${product.price}</span>
            <button class="add-to-cart-btn px-4 py-2 rounded-xl font-semibold text-sm transition-all hover:scale-105" data-id="${product.id}" style="background: linear-gradient(135deg, ${defaultConfig.primary_gradient_start} 0%, ${defaultConfig.primary_gradient_end} 100%); color: white;">
              üëÅÔ∏è View Details
            </button>
          </div>
        </div>
      `;
    }

    // Render featured products (2 from each category with sliding)
    function renderFeaturedProducts() {
      const categories = ['electronics', 'fashion', 'home', 'accessories', 'sports', 'beauty', 'books', 'toys'];
      const featuredGrid = document.getElementById('featured-products-grid');
      
      const categoryNames = {
        electronics: 'Electronics',
        fashion: 'Fashion',
        home: 'Home & Living',
        accessories: 'Accessories',
        sports: 'Sports & Fitness',
        beauty: 'Beauty & Care',
        books: 'Books & Media',
        toys: 'Toys & Games'
      };
      
      const categoryIcons = {
        electronics: '‚ö°',
        fashion: 'üëó',
        home: 'üè†',
        accessories: 'üíé',
        sports: '‚öΩ',
        beauty: 'üíÑ',
        books: 'üìö',
        toys: 'ÔøΩÔøΩÔøΩ'
      };
      
      const categoryColors = {
        electronics: '#3b82f6',
        fashion: '#ec4899',
        home: '#10b981',
        accessories: '#f59e0b',
        sports: '#ef4444',
        beauty: '#8b5cf6',
        books: '#06b6d4',
        toys: '#f97316'
      };
      
      featuredGrid.innerHTML = categories.map(category => {
        const categoryProducts = products.filter(p => p.category === category);
        if (categoryProducts.length === 0) return '';
        
        const carouselId = `carousel-${category}`;
        
        return `
          <div class="mb-12">
            <div class="flex items-center justify-between mb-6">
              <div class="flex items-center space-x-3">
                <div class="w-12 h-12 rounded-2xl flex items-center justify-center text-2xl float-animation" style="background: linear-gradient(135deg, ${categoryColors[category]}, ${categoryColors[category]}dd); box-shadow: 0 4px 16px ${categoryColors[category]}40;">
                  ${categoryIcons[category]}
                </div>
                <h4 class="text-2xl font-bold" style="color: ${defaultConfig.text_color};">${categoryNames[category]}</h4>
              </div>
              <div class="flex items-center space-x-2">
                <button class="carousel-prev-btn w-12 h-12 rounded-full flex items-center justify-center transition-all hover:scale-110 disabled:opacity-30 disabled:cursor-not-allowed" data-carousel="${carouselId}" style="background: white; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#1f2937" stroke-width="2.5">
                    <path d="M15 18l-6-6 6-6"/>
                  </svg>
                </button>
                <button class="carousel-next-btn w-12 h-12 rounded-full flex items-center justify-center transition-all hover:scale-110 disabled:opacity-30 disabled:cursor-not-allowed" data-carousel="${carouselId}" style="background: white; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#1f2937" stroke-width="2.5">
                    <path d="M9 18l6-6-6-6"/>
                  </svg>
                </button>
              </div>
            </div>
            <div class="carousel-container relative overflow-hidden rounded-3xl" id="${carouselId}" style="padding: 4px;">
              <div class="carousel-track flex transition-transform duration-500 ease-out" style="transform: translateX(0px); gap: 1.5rem;">
                ${categoryProducts.map(product => `
                  <div class="carousel-item flex-shrink-0" style="width: calc(50% - 0.75rem);">
                    ${createProductCard(product)}
                  </div>
                `).join('')}
              </div>
            </div>
          </div>
        `;
      }).join('');
      
      attachProductCardListeners();
      initializeCarousels();
    }
    
    // Initialize carousel functionality - always shows 2 items, slides by 2
    const carouselStates = {};
    
    function initializeCarousels() {
      document.querySelectorAll('.carousel-container').forEach(container => {
        const id = container.id;
        const track = container.querySelector('.carousel-track');
        const items = track.querySelectorAll('.carousel-item');
        
        carouselStates[id] = { 
          currentIndex: 0,
          totalItems: items.length,
          itemsPerView: 2,
          maxIndex: Math.max(0, Math.ceil(items.length / 2) - 1)
        };
        
        updateCarouselButtons(id);
      });
      
      // Prev buttons
      document.querySelectorAll('.carousel-prev-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.stopPropagation();
          const carouselId = btn.dataset.carousel;
          scrollCarousel(carouselId, -1);
        });
      });
      
      // Next buttons
      document.querySelectorAll('.carousel-next-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.stopPropagation();
          const carouselId = btn.dataset.carousel;
          scrollCarousel(carouselId, 1);
        });
      });
    }
    
    function scrollCarousel(carouselId, direction) {
      const state = carouselStates[carouselId];
      const container = document.getElementById(carouselId);
      const track = container.querySelector('.carousel-track');
      
      state.currentIndex += direction;
      state.currentIndex = Math.max(0, Math.min(state.currentIndex, state.maxIndex));
      
      // Slide by 2 items (100% of container width)
      const translateX = -(state.currentIndex * 100);
      track.style.transform = `translateX(${translateX}%)`;
      
      updateCarouselButtons(carouselId);
    }
    
    function updateCarouselButtons(carouselId) {
      const state = carouselStates[carouselId];
      const prevBtn = document.querySelector(`button.carousel-prev-btn[data-carousel="${carouselId}"]`);
      const nextBtn = document.querySelector(`button.carousel-next-btn[data-carousel="${carouselId}"]`);
      
      if (prevBtn) {
        prevBtn.disabled = state.currentIndex === 0;
      }
      
      if (nextBtn) {
        nextBtn.disabled = state.currentIndex === state.maxIndex;
      }
    }

    // Render all products with filter
    function renderAllProducts(category = 'all', subcategory = 'all') {
      const grid = document.getElementById('all-products-grid');
      let filteredProducts = products;
      
      // Filter by main category
      if (category !== 'all') {
        filteredProducts = filteredProducts.filter(p => p.category === category);
      }
      
      // Filter by subcategory
      if (subcategory !== 'all') {
        filteredProducts = filteredProducts.filter(p => p.subcategory === subcategory);
      }
      
      if (filteredProducts.length === 0) {
        grid.innerHTML = `
          <div class="col-span-full text-center py-20">
            <div class="text-6xl mb-4">üîç</div>
            <h3 class="text-2xl font-bold mb-2" style="color: #1f2937;">No products found</h3>
            <p class="text-gray-600">Try selecting a different filter</p>
          </div>
        `;
      } else {
        grid.innerHTML = filteredProducts.map(product => createProductCard(product)).join('');
        attachProductCardListeners();
      }
    }
    
    // Show subcategory filters
    function showSubFilters(category) {
      const subfilterSection = document.getElementById('subfilter-section');
      const subfilterButtons = document.getElementById('subfilter-buttons');
      const subfilterTitle = document.getElementById('subfilter-title');
      
      if (category === 'all' || !subcategories[category]) {
        subfilterSection.classList.add('hidden');
        currentSubFilter = 'all';
        return;
      }
      
      const categoryNames = {
        electronics: 'Electronics',
        fashion: 'Fashion',
        home: 'Home & Living',
        accessories: 'Accessories',
        sports: 'Sports & Fitness',
        beauty: 'Beauty & Care',
        books: 'Books & Media',
        toys: 'Toys & Games',
        food: 'Food & Grocery',
        automotive: 'Automotive',
        pets: 'Pet Supplies'
      };
      
      subfilterTitle.textContent = `${categoryNames[category]} - Filter by Type`;
      
      const subs = subcategories[category];
      subfilterButtons.innerHTML = `
        <button class="subfilter-btn px-4 py-2 rounded-xl font-semibold text-sm transition-all hover:scale-105" data-subcategory="all" style="background: linear-gradient(135deg, ${defaultConfig.primary_gradient_start} 0%, ${defaultConfig.primary_gradient_end} 100%); color: white; box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);">
          All ${categoryNames[category]}
        </button>
        ${subs.map(sub => `
          <button class="subfilter-btn px-4 py-2 rounded-xl font-semibold text-sm transition-all hover:scale-105" data-subcategory="${sub.id}" style="background: white; color: #1f2937; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
            <span class="flex items-center space-x-2">
              <span>${sub.icon}</span>
              <span>${sub.name}</span>
            </span>
          </button>
        `).join('')}
      `;
      
      subfilterSection.classList.remove('hidden');
      currentSubFilter = 'all';
      
      // Add event listeners to subfilter buttons
      document.querySelectorAll('.subfilter-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          const subcategory = btn.dataset.subcategory;
          currentSubFilter = subcategory;
          
          // Update active state
          document.querySelectorAll('.subfilter-btn').forEach(b => {
            if (b === btn) {
              b.style.background = `linear-gradient(135deg, ${defaultConfig.primary_gradient_start} 0%, ${defaultConfig.primary_gradient_end} 100%)`;
              b.style.color = 'white';
              b.style.boxShadow = `0 2px 8px rgba(102, 126, 234, 0.3)`;
            } else {
              b.style.background = 'white';
              b.style.color = defaultConfig.text_color;
              b.style.boxShadow = '0 2px 8px rgba(0,0,0,0.1)';
            }
          });
          
          renderAllProducts(currentFilter, subcategory);
        });
      });
    }

    // Attach event listeners to product cards
    function attachProductCardListeners() {
      // First, attach add to cart listeners
      document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.stopPropagation();
          e.preventDefault();
          const productId = parseInt(btn.dataset.id);
          addToCart(productId);
        });
      });
      
      // Then attach card click listeners (excluding add to cart button area)
      document.querySelectorAll('.product-card').forEach(card => {
        card.addEventListener('click', (e) => {
          // Don't open modal if clicking the add to cart button
          if (e.target.classList.contains('add-to-cart-btn') || e.target.closest('.add-to-cart-btn')) {
            return;
          }
          const productId = parseInt(card.dataset.productId);
          openProductModal(productId);
        });
      });
    }

    // Add to cart
    function addToCart(productId) {
      const product = products.find(p => p.id === productId);
      if (!product) return;
      
      const existingItem = cart.find(item => item.id === productId);
      if (existingItem) {
        existingItem.quantity++;
      } else {
        cart.push({ ...product, quantity: 1 });
      }
      
      updateCartDisplay();
      showToast('Added to cart!');
    }

    // Update cart display
    function updateCartDisplay() {
      const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
      document.getElementById('cart-count').textContent = totalItems;
      
      const cartItemsContainer = document.getElementById('cart-items-container');
      
      if (cart.length === 0) {
        cartItemsContainer.innerHTML = `
          <div class="text-center py-12">
            <div class="text-6xl mb-4">üõí</div>
            <p class="text-gray-600">Your cart is empty</p>
          </div>
        `;
      } else {
        cartItemsContainer.innerHTML = cart.map(item => `
          <div class="mb-4 pb-4 border-b border-gray-200">
            <div class="flex items-start space-x-4">
              <div class="text-4xl">${item.image}</div>
              <div class="flex-1">
                <h4 class="font-bold mb-1" style="color: ${defaultConfig.text_color};">${item.name}</h4>
                <p class="text-sm text-gray-500 mb-2">$${item.price}</p>
                <div class="flex items-center space-x-3">
                  <button class="decrease-qty w-8 h-8 rounded-lg flex items-center justify-center hover:bg-gray-100" data-id="${item.id}" style="border: 1px solid #e5e7eb;">-</button>
                  <span class="font-semibold">${item.quantity}</span>
                  <button class="increase-qty w-8 h-8 rounded-lg flex items-center justify-center hover:bg-gray-100" data-id="${item.id}" style="border: 1px solid #e5e7eb;">+</button>
                  <button class="remove-item ml-auto text-red-500 hover:text-red-700 font-semibold text-sm" data-id="${item.id}">Remove</button>
                </div>
              </div>
            </div>
          </div>
        `).join('');
        
        // Add event listeners for cart actions
        document.querySelectorAll('.increase-qty').forEach(btn => {
          btn.addEventListener('click', () => {
            const id = parseInt(btn.dataset.id);
            const item = cart.find(i => i.id === id);
            if (item) {
              item.quantity++;
              updateCartDisplay();
            }
          });
        });
        
        document.querySelectorAll('.decrease-qty').forEach(btn => {
          btn.addEventListener('click', () => {
            const id = parseInt(btn.dataset.id);
            const item = cart.find(i => i.id === id);
            if (item && item.quantity > 1) {
              item.quantity--;
              updateCartDisplay();
            }
          });
        });
        
        document.querySelectorAll('.remove-item').forEach(btn => {
          btn.addEventListener('click', () => {
            const id = parseInt(btn.dataset.id);
            cart = cart.filter(i => i.id !== id);
            updateCartDisplay();
          });
        });
      }
      
      // Update totals
      const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
      document.getElementById('cart-subtotal').textContent = `$${subtotal.toFixed(2)}`;
      document.getElementById('cart-total').textContent = `$${subtotal.toFixed(2)}`;
    }

    // Show toast notification
    function showToast(message) {
      const toast = document.createElement('div');
      toast.textContent = message;
      toast.style.cssText = 'position: fixed; top: 100px; left: 50%; transform: translateX(-50%); background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; padding: 12px 24px; border-radius: 12px; font-weight: bold; box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4); z-index: 9999; animation: slideDown 0.3s ease;';
      document.body.appendChild(toast);
      setTimeout(() => toast.remove(), 2000);
    }

    // Navigate to all products page
    function showAllProductsPage() {
      currentPage = 'catalog';
      document.getElementById('home').classList.add('hidden');
      document.getElementById('offers').classList.add('hidden');
      document.getElementById('products').classList.add('hidden');
      document.querySelector('.py-16.px-4').classList.add('hidden'); // Features section
      document.querySelectorAll('section.py-16').forEach(s => s.classList.add('hidden')); // All other sections
      document.getElementById('all-products-page').classList.remove('hidden');
      window.scrollTo(0, 0);
    }

    // Navigate back to home
    function showHomePage() {
      currentPage = 'home';
      document.getElementById('home').classList.remove('hidden');
      document.getElementById('offers').classList.remove('hidden');
      document.getElementById('products').classList.remove('hidden');
      document.querySelectorAll('section.py-16').forEach(s => s.classList.remove('hidden'));
      document.getElementById('all-products-page').classList.add('hidden');
      window.scrollTo(0, 0);
    }

    // Open product detail modal
    let currentModalProductId = null;
    
    function openProductModal(productId) {
      const product = products.find(p => p.id === productId);
      if (!product) return;
      
      currentModalProductId = productId;
      const modal = document.getElementById('product-modal');
      
      // Update modal content
      document.getElementById('modal-title').textContent = product.name;
      document.getElementById('modal-brand').textContent = product.brand;
      document.getElementById('modal-description').textContent = product.description;
      document.getElementById('modal-price').textContent = `$${product.price}`;
      document.getElementById('modal-rating').textContent = '‚≠ê'.repeat(Math.floor(product.rating));
      document.getElementById('modal-rating-num').textContent = product.rating;
      document.getElementById('modal-stock').textContent = product.stock > 0 ? `${product.stock} In Stock` : 'Out of Stock';
      document.getElementById('modal-stock').style.color = product.stock > 0 ? '#10b981' : '#ef4444';
      
      // Update main image
      document.getElementById('modal-main-image').textContent = product.images[0];
      
      // Update thumbnails
      const thumbnailContainer = document.getElementById('modal-thumbnail-container');
      thumbnailContainer.innerHTML = product.images.map((img, index) => `
        <button class="text-4xl p-3 rounded-xl transition-all hover:scale-110 ${index === 0 ? 'ring-2 ring-purple-500' : ''}" 
                data-image="${img}" 
                style="background: linear-gradient(135deg, #f8f9ff 0%, #e8eaff 100%);">
          ${img}
        </button>
      `).join('');
      
      // Add thumbnail click handlers
      thumbnailContainer.querySelectorAll('button').forEach(btn => {
        btn.addEventListener('click', () => {
          document.getElementById('modal-main-image').textContent = btn.dataset.image;
          thumbnailContainer.querySelectorAll('button').forEach(b => b.classList.remove('ring-2', 'ring-purple-500'));
          btn.classList.add('ring-2', 'ring-purple-500');
        });
      });
      
      // Show modal
      modal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }

    // Close product modal
    function closeProductModal() {
      const modal = document.getElementById('product-modal');
      modal.classList.add('hidden');
      document.body.style.overflow = 'auto';
      currentModalProductId = null;
    }

    // Open/close cart sidebar
    function openCart() {
      document.getElementById('cart-sidebar').style.transform = 'translateX(0)';
    }

    function closeCart() {
      document.getElementById('cart-sidebar').style.transform = 'translateX(100%)';
    }

    // Modal event listeners
    document.getElementById('close-modal-btn').addEventListener('click', closeProductModal);
    document.getElementById('product-modal').addEventListener('click', (e) => {
      if (e.target.id === 'product-modal') {
        closeProductModal();
      }
    });

    document.getElementById('modal-add-to-cart').addEventListener('click', () => {
      if (currentModalProductId) {
        addToCart(currentModalProductId);
      }
    });

    document.getElementById('modal-buy-now').addEventListener('click', () => {
      if (currentModalProductId) {
        addToCart(currentModalProductId);
        closeProductModal();
        openCart();
      }
    });

    // Cart button
    document.getElementById('cart-btn').addEventListener('click', openCart);
    document.getElementById('close-cart-btn').addEventListener('click', closeCart);

    // Open checkout modal
    function openCheckoutModal() {
      if (cart.length === 0) {
        showToast('Your cart is empty!');
        return;
      }
      
      const modal = document.getElementById('checkout-modal');
      const checkoutItems = document.getElementById('checkout-items');
      
      // Populate checkout items
      checkoutItems.innerHTML = cart.map(item => `
        <div class="flex items-center justify-between">
          <div class="flex items-center space-x-3">
            <span class="text-2xl">${item.image}</span>
            <div>
              <div class="font-semibold" style="color: #1f2937;">${item.name}</div>
              <div class="text-sm text-gray-600">Qty: ${item.quantity} √ó $${item.price}</div>
            </div>
          </div>
          <div class="font-bold" style="color: #667eea;">$${(item.price * item.quantity).toFixed(2)}</div>
        </div>
      `).join('');
      
      // Update totals
      const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
      document.getElementById('checkout-subtotal').textContent = `$${subtotal.toFixed(2)}`;
      document.getElementById('checkout-total').textContent = `$${subtotal.toFixed(2)}`;
      
      modal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
      closeCart();
    }
    
    // Close checkout modal
    function closeCheckoutModal() {
      const modal = document.getElementById('checkout-modal');
      modal.classList.add('hidden');
      document.body.style.overflow = 'auto';
    }
    
    // Checkout button
    document.getElementById('checkout-btn').addEventListener('click', openCheckoutModal);
    
    // Close checkout modal button
    document.getElementById('close-checkout-btn').addEventListener('click', closeCheckoutModal);
    
    // Payment option selection
    document.querySelectorAll('.payment-option').forEach(option => {
      option.addEventListener('click', () => {
        const radio = option.querySelector('input[type="radio"]');
        radio.checked = true;
        
        document.querySelectorAll('.payment-option').forEach(opt => {
          opt.classList.remove('selected');
        });
        option.classList.add('selected');
      });
    });
    
    // Checkout form submission
    document.getElementById('checkout-form').addEventListener('submit', (e) => {
      e.preventDefault();
      
      const name = document.getElementById('checkout-name').value;
      const phone = document.getElementById('checkout-phone').value;
      const address = document.getElementById('checkout-address').value;
      const city = document.getElementById('checkout-city').value;
      const postal = document.getElementById('checkout-postal').value;
      const paymentMethod = document.querySelector('input[name="payment"]:checked').value;
      
      // Get payment method display name
      const paymentNames = {
        bkash: 'bKash',
        nagad: 'Nagad',
        rocket: 'Rocket',
        bank: 'Bank Transfer',
        card: 'Credit/Debit Card',
        cod: 'Cash on Delivery'
      };
      
      closeCheckoutModal();
      
      // Show success message
      const successMessage = document.createElement('div');
      successMessage.style.cssText = 'position: fixed; inset: 0; z-index: 9999; background: rgba(0,0,0,0.5); backdrop-filter: blur(4px); display: flex; align-items: center; justify-content: center;';
      successMessage.innerHTML = `
        <div style="background: white; border-radius: 24px; padding: 48px; max-width: 500px; text-align: center; box-shadow: 0 20px 60px rgba(0,0,0,0.3);">
          <div style="font-size: 64px; margin-bottom: 16px;">‚úÖ</div>
          <h3 style="font-size: 28px; font-weight: bold; color: #1f2937; margin-bottom: 16px;">Order Placed Successfully!</h3>
          <p style="color: #6b7280; margin-bottom: 24px;">Thank you, ${name}! Your order has been confirmed.</p>
          <div style="background: linear-gradient(135deg, #f8f9ff 0%, #e8eaff 100%); border-radius: 16px; padding: 20px; margin-bottom: 24px; text-align: left;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
              <span style="color: #6b7280;">Payment Method:</span>
              <span style="font-weight: bold; color: #1f2937;">${paymentNames[paymentMethod]}</span>
            </div>
            <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
              <span style="color: #6b7280;">Delivery Address:</span>
              <span style="font-weight: bold; color: #1f2937;">${city}</span>
            </div>
            <div style="display: flex; justify-content: space-between; padding-top: 12px; border-top: 1px solid #e5e7eb;">
              <span style="color: #6b7280;">Total Amount:</span>
              <span style="font-weight: bold; font-size: 20px; color: #667eea;">$${cart.reduce((sum, item) => sum + (item.price * item.quantity), 0).toFixed(2)}</span>
            </div>
          </div>
          <p style="color: #6b7280; font-size: 14px; margin-bottom: 24px;">You will receive a confirmation email shortly with your order details.</p>
          <button onclick="this.parentElement.parentElement.remove(); document.body.style.overflow='auto';" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 16px 32px; border-radius: 16px; font-weight: bold; border: none; cursor: pointer; font-size: 16px;">Continue Shopping</button>
        </div>
      `;
      document.body.appendChild(successMessage);
      document.body.style.overflow = 'hidden';
      
      // Clear cart
      cart = [];
      updateCartDisplay();
      
      // Clear form
      document.getElementById('checkout-form').reset();
    });

    // View all products button
    document.getElementById('view-all-products-btn').addEventListener('click', () => {
      showAllProductsPage();
      renderAllProducts('all');
    });

    // Back to home button
    document.getElementById('back-to-home-btn').addEventListener('click', showHomePage);

    // Catalog filter buttons
    document.querySelectorAll('.catalog-filter-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const category = btn.dataset.category;
        currentFilter = category;
        currentSubFilter = 'all';
        
        // Update active state
        document.querySelectorAll('.catalog-filter-btn').forEach(b => {
          if (b === btn) {
            b.style.background = `linear-gradient(135deg, ${defaultConfig.primary_gradient_start} 0%, ${defaultConfig.primary_gradient_end} 100%)`;
            b.style.color = 'white';
            b.style.boxShadow = `0 4px 12px rgba(102, 126, 234, 0.3)`;
          } else {
            b.style.background = defaultConfig.surface_color;
            b.style.color = defaultConfig.text_color;
            b.style.boxShadow = '0 2px 8px rgba(0,0,0,0.1)';
          }
        });
        
        // Show/hide subcategory filters
        showSubFilters(category);
        
        renderAllProducts(category, 'all');
      });
    });
    
    // Clear subfilter button
    document.getElementById('clear-subfilter-btn').addEventListener('click', () => {
      currentSubFilter = 'all';
      
      // Reset subfilter buttons
      document.querySelectorAll('.subfilter-btn').forEach((btn, index) => {
        if (index === 0) {
          btn.style.background = `linear-gradient(135deg, ${defaultConfig.primary_gradient_start} 0%, ${defaultConfig.primary_gradient_end} 100%)`;
          btn.style.color = 'white';
          btn.style.boxShadow = `0 2px 8px rgba(102, 126, 234, 0.3)`;
        } else {
          btn.style.background = 'white';
          btn.style.color = defaultConfig.text_color;
          btn.style.boxShadow = '0 2px 8px rgba(0,0,0,0.1)';
        }
      });
      
      renderAllProducts(currentFilter, 'all');
    });

    // Newsletter form
    document.getElementById('newsletter-form').addEventListener('submit', (e) => {
      e.preventDefault();
      const email = document.getElementById('newsletter-email').value;
      if (email) {
        showToast('Thank you for subscribing!');
        document.getElementById('newsletter-email').value = '';
      }
    });

    // Mobile menu
    const mobileMenuBtn = document.getElementById('mobile-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    const closeMenuBtn = document.getElementById('close-menu-btn');
    
    mobileMenuBtn.addEventListener('click', () => {
      mobileMenu.classList.add('active');
    });
    
    closeMenuBtn.addEventListener('click', () => {
      mobileMenu.classList.remove('active');
    });
    
    // Close mobile menu on link click
    document.querySelectorAll('.mobile-menu-link').forEach(link => {
      link.addEventListener('click', () => {
        mobileMenu.classList.remove('active');
      });
    });

    // Smooth scroll
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', (e) => {
        e.preventDefault();
        const target = document.querySelector(anchor.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });

    // Element SDK implementation
    async function onConfigChange(config) {
      const storeName = config.store_name || defaultConfig.store_name;
      const tagline = config.tagline || defaultConfig.tagline;
      const offerTitle = config.offer_title || defaultConfig.offer_title;
      const offerDescription = config.offer_description || defaultConfig.offer_description;
      const footerText = config.footer_text || defaultConfig.footer_text;
      
      document.getElementById('store-name').textContent = storeName;
      document.getElementById('tagline').textContent = tagline;
      document.getElementById('offer-title').textContent = offerTitle;
      document.getElementById('offer-description').textContent = offerDescription;
      document.getElementById('footer-text').textContent = footerText;
      
      // Apply colors
      const primaryStart = config.primary_gradient_start || defaultConfig.primary_gradient_start;
      const primaryEnd = config.primary_gradient_end || defaultConfig.primary_gradient_end;
      const bgColor = config.background_color || defaultConfig.background_color;
      const surfaceColor = config.surface_color || defaultConfig.surface_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const accentColor = config.accent_color || defaultConfig.accent_color;
      
      document.getElementById('app').style.background = `linear-gradient(to bottom, ${bgColor} 0%, ${surfaceColor} 100%)`;
      
      // Update store name gradient
      const storeNameEl = document.getElementById('store-name');
      storeNameEl.style.background = `linear-gradient(135deg, ${primaryStart} 0%, ${primaryEnd} 100%)`;
      storeNameEl.style.webkitBackgroundClip = 'text';
      storeNameEl.style.webkitTextFillColor = 'transparent';
      storeNameEl.style.backgroundClip = 'text';
      
      // Re-render products with new colors
      renderProducts(currentFilter);
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities: (config) => ({
          recolorables: [
            {
              get: () => config.background_color || defaultConfig.background_color,
              set: (value) => {
                config.background_color = value;
                window.elementSdk.setConfig({ background_color: value });
              }
            },
            {
              get: () => config.surface_color || defaultConfig.surface_color,
              set: (value) => {
                config.surface_color = value;
                window.elementSdk.setConfig({ surface_color: value });
              }
            },
            {
              get: () => config.text_color || defaultConfig.text_color,
              set: (value) => {
                config.text_color = value;
                window.elementSdk.setConfig({ text_color: value });
              }
            },
            {
              get: () => config.primary_gradient_start || defaultConfig.primary_gradient_start,
              set: (value) => {
                config.primary_gradient_start = value;
                window.elementSdk.setConfig({ primary_gradient_start: value });
              }
            },
            {
              get: () => config.accent_color || defaultConfig.accent_color,
              set: (value) => {
                config.accent_color = value;
                window.elementSdk.setConfig({ accent_color: value });
              }
            }
          ],
          borderables: [],
          fontEditable: undefined,
          fontSizeable: undefined
        }),
        mapToEditPanelValues: (config) => new Map([
          ["store_name", config.store_name || defaultConfig.store_name],
          ["tagline", config.tagline || defaultConfig.tagline],
          ["offer_title", config.offer_title || defaultConfig.offer_title],
          ["offer_description", config.offer_description || defaultConfig.offer_description],
          ["footer_text", config.footer_text || defaultConfig.footer_text]
        ])
      });
    }

    // Initial render
    renderFeaturedProducts();
    updateCartDisplay();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c7a0282b773ba55',t:'MTc3MDAzODY3Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>